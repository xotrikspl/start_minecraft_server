#!/bin/bash

green="\033[1;32m"
yellow="\033[1;33m"
end_color="\033[0m"

data=$(date "+%d-%m-%Y")
locale="/usr/skyhard"

function auto_backup() {
    clear && echo -e "$yellow""I turn on backup..""$end_color"
    cd / && tar -cvzf backup_$data.tar.gz $locale </dev/null && sleep 0.75 && clear

        #---CHECK FOLDER--#
        if [ -a /tmp/minecraft_server ]; then
            # you have
        else
            cd /tmp && mkdir minecraft_server;
            if [ -a /tmp/minecraft_server/backup ]; then
                # you have
            else
                cd /tmp/minecraft_server && mkdir backup;
        fi

    cd / && mv -f /backup_$data.tar.gz /tmp/minecraft_server/backup
    echo -e "$green""Completed successfully""$end_color"
}
function delete() {
    echo -e "$yellow""Wait a one second. I clear old LOG..""$end_color"
    cd $locale && rm *.log
    echo -e "$green""Completed successfully""$end_color"
}

if [ "$1" = "--backup" ]; then
    auto_backup;
elif [ "$1" = "--delete" ]; then
    delete;
fi
